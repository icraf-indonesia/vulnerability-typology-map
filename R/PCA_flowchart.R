mermaid_code <- "
graph TD
    A[Start]
    B[Load and Preprocess Data]
    C[Check for Missing Values]
    D[Impute or Remove Missing Values]
    E[Check Distribution of Data]
    F[Transform Data if Skewed]
    G[Scale and Center Data]
    H[Calculate Z-Scores]
    I[Remove Outliers with Z-Score > 2.5]
    J[Perform PCA]
    K[Inspect Loadings and Scores]
    L[Visual Inspection via \n Biplot & scree plot]
    M[Calculate Mahalanobis Distances]
    N[Calculate Hotelling\'s t^2 Statistics]
    O[Check for Additional Outliers]
    P[Remove or Correct Additional Outliers]
    Q[Re-run PCA]
    R[Extract the Loadings for the \n First n-Principal Components]
    S[Sort the absolute magnitude of \n the Loading \n ]
    T[Identify Factors that are \n Consistently Influential]
    V[Interpret Results]
    W[End]
    A --> B
    B --> C
    C --> D
    D --> E
    E -- Skewed --> F
    E -- Not Skewed --> G
    F --> G
    G --> H
    H -- Outliers Found --> I
    H -- No Outliers --> J
    I --> J
    J --> K
    K --> L
    L --> M
    M --> N
    N -- Outliers Found --> O
    N -- No Outliers --> R
    O --> P
    P --> Q
    Q --> K
    R --> S
    S --> T
    T -- remove factors with small influence -->Q
    T --  all factors capture the core variances --> V
    V --> W
")



